# TinyDb 可视化管理器

这是一个基于 Avalonia UI 的 TinyDb 数据库可视化管理工具。

## 功能特性

### 🔗 数据库连接
- 支持连接到 TinyDb 数据库文件
- 可选密码保护连接
- 实时显示数据库状态和统计信息

### 📊 集合管理
- 查看所有数据库集合
- 创建新集合
- 删除现有集合
- 显示集合文档数量和索引信息

### 📄 文档管理
- 表格形式查看文档列表
- JSON 编辑器编辑文档内容
- 支持文档的增删改查操作
- 显示文档详细信息

## 使用方法

### 1. 连接数据库
1. 在"数据库文件"输入框中输入数据库文件路径（如 `test.db`）
2. 如果数据库有密码保护，在"密码"字段输入密码
3. 点击"连接"按钮

### 2. 管理集合
- 连接成功后，左侧面板显示所有集合
- 点击"新建"创建新集合
- 选择集合后点击"删除集合"删除

### 3. 操作文档
- 选择集合后，中间面板显示该集合的文档列表
- 点击"新建文档"创建新文档
- 选择文档后，右侧面板显示文档内容
- 在右侧编辑器中修改文档内容，点击"保存"更新
- 选择文档后点击"删除文档"删除

## 界面布局

```
┌─────────────────────────────────────────────────────────────┐
│  顶部工具栏：数据库连接、状态显示                                │
├──────────┬─────────────────────┬─────────────────────────────┤
│ 集合列表  │    文档列表           │      文档编辑器              │
│ - 刷新   │ - ID                │ - JSON 编辑器               │
│ - 新建   │ - 类型              │ - 保存按钮                  │
│ - 删除   │ - 大小              │ - 文档信息                  │
│          │ - 预览内容          │                            │
│          │ - 创建时间          │                            │
│          │ - 删除文档          │                            │
└──────────┴─────────────────────┴─────────────────────────────┘
│  底部状态栏：操作状态、加载进度                                │
└─────────────────────────────────────────────────────────────┘
```

## 技术架构

- **UI 框架**: Avalonia 11.3.9
- **架构模式**: MVVM
- **数据组件**: DataGrid、Material Design
- **数据库**: TinyDb (轻量级 NoSQL 数据库)

## 项目结构

```
TinyDb.UI/
├── Models/           # 数据模型
│   ├── DatabaseInfo.cs
│   ├── CollectionInfo.cs
│   └── DocumentItem.cs
├── Services/         # 数据库服务
│   └── DatabaseService.cs
├── ViewModels/       # MVVM 视图模型
│   ├── MainWindowViewModel.cs
│   └── ViewModelBase.cs
├── Views/           # Avalonia 界面
│   └── MainWindow.axaml
└── Assets/          # 应用资源
```

## 快速开始

1. 运行应用程序：`dotnet run`
2. 点击"浏览..."按钮设置数据库路径，或手动输入
3. 点击"连接"按钮连接数据库
4. 开始使用各项管理功能

## 注意事项

- 数据库文件路径可以是相对路径或绝对路径
- 新建的数据库会自动创建文件
- 密码字段留空表示无密码保护
- 所有操作都有状态提示，请关注底部状态栏