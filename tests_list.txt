/home/j4587698/RiderProjects/TinyDb/TinyDb/TinyDb.csproj : warning NU1510: PackageReference System.Collections.Immutable 将不会删除。请考虑从依赖项中移除此包，因为可能不需要它。 [/home/j4587698/RiderProjects/TinyDb/TinyDb.Tests/TinyDb.Tests.csproj]
/home/j4587698/RiderProjects/TinyDb/TinyDb/TinyDb.csproj : warning NU1510: PackageReference System.Memory 将不会删除。请考虑从依赖项中移除此包，因为可能不需要它。 [/home/j4587698/RiderProjects/TinyDb/TinyDb.Tests/TinyDb.Tests.csproj]
/home/j4587698/RiderProjects/TinyDb/TinyDb/TinyDb.csproj : warning NU1510: PackageReference System.Threading.Channels 将不会删除。请考虑从依赖项中移除此包，因为可能不需要它。 [/home/j4587698/RiderProjects/TinyDb/TinyDb.Tests/TinyDb.Tests.csproj]
/home/j4587698/RiderProjects/TinyDb/TinyDb/TinyDb.csproj : warning NU1510: PackageReference System.Collections.Immutable 将不会删除。请考虑从依赖项中移除此包，因为可能不需要它。 [TargetFramework=net8.0]
/home/j4587698/RiderProjects/TinyDb/TinyDb/TinyDb.csproj : warning NU1510: PackageReference System.Memory 将不会删除。请考虑从依赖项中移除此包，因为可能不需要它。 [TargetFramework=net8.0]
/home/j4587698/RiderProjects/TinyDb/TinyDb/TinyDb.csproj : warning NU1510: PackageReference System.Threading.Channels 将不会删除。请考虑从依赖项中移除此包，因为可能不需要它。 [TargetFramework=net8.0]

████████╗██╗   ██╗███╗   ██╗██╗████████╗
╚══██╔══╝██║   ██║████╗  ██║██║╚══██╔══╝
   ██║   ██║   ██║██╔██╗ ██║██║   ██║
   ██║   ██║   ██║██║╚██╗██║██║   ██║
   ██║   ╚██████╔╝██║ ╚████║██║   ██║
   ╚═╝    ╚═════╝ ╚═╝  ╚═══╝╚═╝   ╚═╝

   TUnit v1.6.25.0 | 64-bit | Ubuntu 24.04.3 LTS | ubuntu.24.04-x64 | .NET 8.0.22 | Microsoft Testing Platform v2.0.2

   Engine Mode: SourceGenerated


  BTree_Deep_Tree_Operations
  IndexKey_Composite_Comparison_Should_Work
  BTree_Composite_Key_Operations
  RestorePage_Should_Write_To_Disk_And_Invalidate_Cache
  Reflection_Fallback_Should_Handle_Complex_Graph
  Binary_Should_Serialize_And_Deserialize_Correctly
  Binary_Should_Support_Different_SubTypes
  RegularExpression_Should_Serialize_And_Deserialize_Correctly
  RegularExpression_Should_Convert_To_And_From_DotNet_Regex
  Timestamp_Should_Serialize_And_Deserialize_Correctly
  Timestamp_Should_Create_Current_Timestamp
  Document_With_Supported_Bson_Types_Should_Serialize_And_Deserialize_Correctly
  Array_With_Supported_Types_Should_Serialize_And_Deserialize_Correctly
  Parse_Unary_Not_Should_Work
  Parse_MethodCall_Equals_Should_Work
  Parse_Unsupported_Method_Should_Throw
  Parse_Unsupported_NodeType_Should_Throw
  BTree_Large_Scale_Delete_Should_Maintain_Integrity
  BTree_Duplicate_Keys_NonUnique_Index_Should_Work
  BsonInt64_Conversions
  BsonDouble_Conversions
  BsonBoolean_Conversions
  BsonDateTime_Conversions
  BsonDecimal128_Conversions
  BsonBinary_Conversions
  BsonTimestamp_Conversions
  Header_Serialization_Should_Work
  Header_Checksum_Should_Work
  AutoIntId_ShouldGenerateSequentialIds
  AutoLongId_ShouldGenerateSequentialIds
  AutoGuidId_ShouldGenerateGuidV7
  AutoStringGuidId_ShouldGenerateGuidV7String
  ExistingId_ShouldNotBeOverwritten
  MixedEntityTypes_ShouldHaveIndependentSequences
  ZeroId_ShouldBeReplacedWithGeneratedId
  EmptyStringId_ShouldBeReplacedWithGeneratedId
  EmptyGuidId_ShouldBeReplacedWithGeneratedId
  EnsureDurability_Synced_Should_Flush_Everything
  FlushPending_With_No_Pending_Should_Do_Nothing
  EnsureDurability_Journaled_Should_Flush_WAL
  BsonArray_Constructor_Should_Create_Empty_Array
  BsonArray_AddValue_Should_Work_Correctly
  BsonArray_AddValue_With_Primitive_Types_Should_Work
  BsonArray_Set_Should_Update_Value_At_Index
  BsonArray_Should_Handle_Null_Values
  BsonArray_Should_Handle_Mixed_Types
  BsonArray_Enumeration_Should_Work
  BsonArray_Equality_Should_Work_Correctly
  BsonArray_ToString_Should_Return_Representation
  BsonArray_Nested_Documents_Should_Work
  BsonArray_Nested_Arrays_Should_Work
  BsonArray_Should_Handle_Empty_Array
  BsonArray_Get_Should_Return_Correct_Value
  BsonArray_Get_Should_Throw_On_Invalid_Index
  BsonArray_Set_Should_Throw_On_Invalid_Index
  BsonArray_IsReadOnly_Should_Return_True
  BsonArray_Indexer_Setter_Should_Throw
  Delete_Many_Items_Should_Trigger_Merge_And_Redistribute
  BsonString_Instance_Methods
  BsonInt32_Instance_Methods
  BsonBoolean_Instance_Methods
  LargeDocument_RoundTrip_Should_Work
  ReadLargeDocument_With_Wrong_PageType_Should_Throw
  ValidateLargeDocument_With_Corrupt_Chain_Should_Return_False
  Savepoints_Should_Allow_Partial_Rollback
  Duplicate_Insert_In_Transaction_Should_Fail_Validation_On_Commit
  Commit_Already_Committed_Transaction_Should_Throw
  Rollback_Already_RolledBack_Transaction_Should_Throw
  Savepoint_Operations_On_Inactive_Transaction_Should_Throw
  Transaction_Index_Operations_Should_Be_Handled_Gracefully
  Constructor_Should_Initialize_With_Valid_Parameters
  Constructor_Should_Throw_ArgumentNullException_For_Null_Name
  Constructor_Should_Throw_ArgumentNullException_For_Null_Fields
  Constructor_Should_Throw_ArgumentException_For_Empty_Fields
  Insert_Should_Add_Entry_Successfully
  Insert_Should_Return_False_For_Unique_Conflict
  Insert_Should_Allow_Duplicates_For_Non_Unique_Index
  Insert_Should_Trigger_Split_When_Capacity_Exceeded
  Insert_Should_Throw_ArgumentNullException_For_Null_Key
  Insert_Should_Throw_ArgumentNullException_For_Null_DocumentId
  Delete_Should_Remove_Entry_Successfully
  Delete_Should_Return_False_For_Non_Existing_Entry
  Delete_Should_Throw_ArgumentNullException_For_Null_Key
  Find_Should_Return_Matching_DocumentIds
  Find_Should_Return_Empty_For_Non_Existing_Key
  Find_Should_Throw_ArgumentNullException_For_Null_Key
  FindRange_Should_Return_DocumentIds_In_Range
  FindRange_Should_Respect_Exclude_Flags
  Contains_Should_Return_True_For_Existing_Key_Document_Pair
  Contains_Should_Return_False_For_Non_Existing_Key_Document_Pair
  Contains_Key_Only_Should_Return_True_For_Existing_Key
  GetAll_Should_Return_All_DocumentIds
  Clear_Should_Remove_All_Entries
  GetStatistics_Should_Return_Correct_Information
  Validate_Should_Return_True_For_Valid_Index
  ToString_Should_Return_Correct_Format
  Dispose_Should_Clean_Up_Resources
  Insert_After_Dispose_Should_Throw_Exception
  Complex_IndexKey_Operations_Should_Work
  LRUCache_Advanced_Operations
  PageType_Should_Have_Correct_Values
  PageType_Should_Be_Byte_Type
  PageType_Should_Support_Casting_From_Byte
  PageType_Should_Support_All_Values
  PageType_Should_Handle_Invalid_Byte_Values
  PageType_Comparison_Should_Work_Correctly
  PageType_ToString_Should_Return_Type_Name
  PageType_GetHashCode_Should_Be_Consistent
  PageType_Should_Support_Switch_Statement
  PageType_Should_Work_In_Collections
  PageType_Should_Support_Enumeration
  Bson_Null_Comparisons
  Bson_ObjectId_Comparisons
  Bson_DateTime_Comparisons
  ExtractEntityMetadata_Should_Work_For_Plain_Class
  ExtractEntityMetadata_Should_Work_For_Annotated_Class
  ExtractEntityMetadata_Should_Throw_On_Null
  Engine_Properties_Should_Be_Correct
  GetCollectionNames_Should_Return_Names
  Security_Password_Lifecycle_Should_Work
  CreateSecureDatabase_When_Already_Protected_Should_Throw
  ChangePassword_With_Wrong_Old_Password_Should_Return_False
  CreateSecureDatabase_With_Invalid_Password_Should_Throw
  ComplexNestedObject_ShouldSerializeCorrectly
  CircularReference_ShouldBeHandledCorrectly
  NullAndDefaultValues_ShouldSerializeCorrectly
  LargeObject_ShouldSerializeEfficiently
  CustomType_ShouldSerializeCorrectly
  VersionCompatibility_ShouldHandleMissingFields
  AOTReflection_ShouldWorkWithConstraints
  GenericCollections_ShouldSerializeCorrectly
  ExceptionHandling_ShouldGracefullyDegrade
  Rollback_Should_Handle_Insert_Update_Delete
  Constructor_Should_Initialize_Correctly
  Constructor_Should_Throw_For_Null_Executor
  Constructor_Should_Throw_For_Null_CollectionName
  Constructor_Should_Throw_For_Empty_CollectionName
  GetEnumerator_Should_Return_All_Items_When_No_Filter
  Where_Should_Filter_Correctly
  Where_With_Price_Filter_Should_Work
  Where_With_Category_Filter_Should_Work
  Where_With_Complex_Filter_Should_Work
  Count_Should_Return_Correct_Count
  First_Should_Return_First_Matching_Item
  FirstOrDefault_Should_Return_Default_When_No_Match
  Any_Should_Return_Correct_Result
  Multiple_Where_Calls_Should_Work
  Queryable_Should_Support_LINQ_Methods
  ObjectId_NewObjectId_Should_Generate_Unique_Ids
  ObjectId_Empty_Should_Be_Valid
  ObjectId_Parse_Should_Parse_Valid_String
  ObjectId_TryParse_Should_Handle_Valid_And_Invalid_Strings
  ObjectId_Parse_Should_Throw_On_Invalid_String
  ObjectId_FromBytes_Should_Create_Valid_ObjectId
  ObjectId_ToByteArray_Should_Return_Correct_Length
  ObjectId_Equality_Should_Work_Correctly
  ObjectId_GetHashCode_Should_Be_Consistent
  ObjectId_Comparison_Should_Work_Correctly
  ObjectId_ToString_Should_Return_Correct_Format
  ObjectId_Implicit_String_Conversion_Should_Work
  ObjectId_Constructor_Should_Handle_Empty_Bytes
  ObjectId_Constructor_Should_Throw_On_Null_Bytes
  ObjectId_Constructor_Should_Throw_On_Invalid_Length
  Initialize_With_Corrupt_Header_Should_Throw
  Initialize_With_Unsupported_Version_Should_Throw
  DropCollection_Should_Remove_Data_And_Metadata
  InsertDocuments_Batch_Should_Handle_Empty_And_Null
  FindAll_Should_Merge_Transaction_Inserts
  FindAll_Should_Merge_Transaction_Updates_And_Deletes
  Update_Document_Grow_Should_Work
  Convert_From_BsonString_To_All_Types
  Convert_From_BsonInt32_To_All_Types
  Convert_From_BsonInt64_To_All_Types
  Convert_From_BsonDouble_To_All_Types
  Convert_From_BsonDecimal128_To_All_Types
  Convert_From_BsonBinary_To_All_Types
  Convert_From_BsonDateTime_To_All_Types
  ScanAndCreateIndexes_Should_Create_Property_Indexes
  EntityIndexInfo_ToString_Should_Work
  IndexAttribute_ShouldCreateSingleIndex
  IndexAttribute_ShouldCreateUniqueIndex
  IndexAttribute_ShouldCreateIndexWithCustomName
  CompositeIndexAttribute_ShouldCreateCompositeIndex
  IndexAttribute_ShouldRespectPriority
  IndexScanner_ShouldGetEntityIndexes
  AutoIndex_ShouldWorkWithInsertOperations
  CompositeIndex_ShouldSupportUniqueConstraint
  IndexAttribute_ShouldHandleDuplicateIndexNames
  Serialize_Should_Convert_BsonString_To_Bytes
  Serialize_Should_Convert_BsonInt32_To_Bytes
  Serialize_Should_Convert_BsonDocument_To_Bytes
  Serialize_Should_Convert_BsonArray_To_Bytes
  Deserialize_Should_Convert_Bytes_Back_To_BsonString
  Deserialize_Should_Convert_Bytes_Back_To_BsonInt32
  Deserialize_Should_Convert_Bytes_Back_To_BsonDocument
  Deserialize_Should_Convert_Bytes_Back_To_BsonArray
  Serialize_Should_Preserve_BsonDecimal128_Precision
  Document_With_Decimal_Should_RoundTrip
  Deserialize_Should_Return_BsonNull_For_Empty_Bytes
  Deserialize_Should_Throw_For_Null_Bytes
  RoundTrip_Should_Preserve_All_BsonTypes
  Serialize_Deserialize_Should_Handle_Complex_Document
  Serialize_Should_Handle_Large_Values
  Serialize_Should_Handle_Special_Characters
  Multiple_Serialize_Deserialize_Should_Be_Consistent
  Deserialize_Corrupt_Bson_Should_Throw
  DiskStream_Operations_After_Dispose_Should_Throw
  TinyDbEngine_With_Invalid_Header_Should_Throw
  FindById_With_Null_Or_NullBson_Should_Return_Null
  BsonValue_Equality_Operator_Should_Work
  BsonValue_CompareTo_Should_Work
  IdentityInt_ShouldGenerateSequentialIds
  IdentityLong_ShouldGenerateSequentialIds
  GuidV7_ShouldGenerateTimeOrderedGuids
  GuidV7_WithGuidType_ShouldGenerateGuids
  IdGeneratorFactory_ShouldReturnCorrectGenerator
  IdGenerationHelper_ShouldDetectGenerationStrategy
  ShouldGenerateId_ShouldWorkCorrectly
  ValidateOperations_Should_Detect_Duplicate_Ids
  TransactionManager_Constructor_ShouldInitializeCorrectly
  BeginTransaction_ShouldCreateNewTransaction
  BeginTransaction_ShouldRespectMaxTransactionLimit
  CommitTransaction_ShouldCommitSuccessfully
  RollbackTransaction_ShouldRollbackSuccessfully
  TransactionSavepoint_ShouldWorkCorrectly
  TransactionDispose_ShouldAutoRollback
  GetStatistics_ShouldReturnCorrectInformation
  TransactionStateValidation_ShouldWorkCorrectly
  MultipleConcurrentTransactions_ShouldWorkCorrectly
  GetStatistics_Should_Report_Correct_Values
  TransactionManager_Statistics_Should_Work
  PageManager_CalculatePageOffset_Should_Work_Correctly
  Database_Should_Recover_From_Corrupted_Pages
  Database_Should_Handle_Multiple_Page_Sizes
  QuickTest_AutoIntIdGeneration
  QuickTest_AutoGuidGeneration
  NodeSplit_ShouldOccurExactlyAtMaxKeys
  NodeMerge_ShouldOccurBelowMinKeys
  Rebalance_ShouldBorrowFromSibling
  RootNode_ShouldPromoteChildWhenEmpty
  ConcurrentOperations_ShouldMaintainIndexIntegrity
  BoundaryValues_ShouldHandleCorrectly
  Delete_ShouldRefreshSeparators_AfterMergeAndBorrow
  Delete_ShouldRefreshAllAncestorSeparators_ForDeepTrees
  LargeDataset_ShouldMaintainStability
  BTreeNode_Basic_Properties_Should_Work
  BTreeNode_Key_Management_Should_Work
  BTreeNode_Child_Management_Should_Work
  BTreeNode_InitializeAsRoot_On_Leaf_Should_Throw
  Database_Should_Not_Create_WAL_File_When_Journaling_Disabled
  Database_Should_Work_Correctly_Without_WAL
  BsonInt32_Conversions_Should_Work
  BsonString_Conversions_Should_Work
  BsonNull_Conversions_Should_Return_Defaults
  BsonObjectId_Conversions_Should_Work
  Compare_Int_And_Double_Should_Work
  Compare_String_And_Number_Should_Fallback_To_String
  Compare_Decimal_Should_Work
  Execute_With_Null_CollectionName_Should_Throw
  Execute_With_Empty_CollectionName_Should_Throw
  Update_Large_Document_With_New_Large_Data_Should_Work
  Delete_Large_Document_Should_Work
  RequestLock_With_Invalid_Arguments_Should_Throw
  ReleaseLock_With_Null_Should_Throw
  ReleaseLock_With_NonExistent_Resource_Should_NoOp
  ReleaseAllLocks_With_Empty_Guid_Should_NoOp
  GetStatistics_Should_Return_Valid_Stats
  CreateIndex_Should_Create_And_Persist
  DropIndex_Should_Remove_Index
  GetBestIndex_Should_Select_Best
  Insert_Large_Document_Via_Engine_Should_Work
  UpdateDocument_Should_Handle_Regular_To_Large
  UpdateDocument_Should_Handle_Large_To_Regular
  ConstantExpression_Properties_Should_Work
  ParameterExpression_Properties_Should_Work
  MemberExpression_Properties_Should_Work
  BinaryExpression_Properties_Should_Work
  FunctionExpression_Properties_Should_Work
  Binary_Should_Serialize_And_Deserialize_Correctly
  RegularExpression_Should_Serialize_And_Deserialize_Correctly
  Timestamp_Should_Serialize_And_Deserialize_Correctly
  Document_With_New_Types_Should_Serialize_And_Deserialize_Correctly
  Array_With_New_Types_Should_Serialize_And_Deserialize_Correctly
  BTree_Should_Handle_3_Levels_Split_And_Merge
  BTree_Internal_Node_Split_Should_Work
  BsonWriter_Reader_Should_Handle_All_Types
  BsonArray_Should_Handle_Nested_Types
  BsonWriter_Reader_Raw_Methods_Should_Work
  Compare_Numeric_Combinations
  Compare_Nulls
  Deserialize_To_Collection_Without_Add_Should_Throw
  Deserialize_To_Dictionary_Without_Public_Add_Should_Throw
  ConvertToBsonValue_Should_Handle_Special_Types
  FromBsonValue_Should_Handle_Special_Types
  MetadataManager_Exceptions_Should_Work
  InsertDocuments_EmptyArray_Should_Return_Zero
  InsertDocuments_With_Null_Docs_Should_Skip_Them
  Parse_Simple_Equals_Should_Work
  Parse_And_Expression_Should_Work
  Parse_Or_Expression_Should_Work
  Parse_Not_Equals_Should_Work
  Parse_Parameter_Expression_Should_Work
  Parse_Nested_Member_Should_Throw_Or_Work
  Parse_Boolean_Constant_Should_Work
  Save_Metadata_Should_Preserve_Special_Characters
  Save_Metadata_Should_Update_Existing_Record
  MetadataManager_Discovery_Methods_Should_Work
  GetEntityMetadata_Should_Return_Null_For_Unknown_Type
  SimpleBinaryTest
  SimpleRegexTest
  CreateExecutionPlan_NoIndex_Should_Use_FullTableScan
  CreateExecutionPlan_SingleIndex_ExactMatch_Should_Use_IndexScan
  CreateExecutionPlan_CompositeIndex_PrefixMatch_Should_Use_IndexScan
  CreateExecutionPlan_CompositeIndex_NonPrefixMatch_Should_Use_FullTableScan
  WAL_Should_Record_And_Replay_Pages
  WAL_Truncate_Should_Clear_Entries
  ToDocument_Should_Convert_User_To_BsonDocument
  ToObject_Should_Convert_BsonDocument_To_User
  ToObject_Should_Return_Null_For_Null_Document
  ToDocument_Should_Throw_For_Null_Entity
  RoundTrip_Should_Preserve_All_Properties
  ToDocument_Should_Handle_Null_Properties
  ToDocument_Should_Handle_Different_Data_Types
  ToObject_Should_Handle_Missing_Properties
  ToDocument_Should_Preserve_ObjectId
  ToObject_Should_Restore_ObjectId
  Multiple_Calls_Should_Be_Consistent
  ToDocument_Should_Handle_Complex_Nested_Objects
  ToObject_Should_Handle_Empty_Document
  Decimal_Property_Should_RoundTrip_Without_Precision_Loss
  Commit_Null_Transaction_Should_Throw
  Rollback_Null_Transaction_Should_Throw
  CreateSavepoint_Null_Transaction_Should_Throw
  CreateSavepoint_Invalid_Name_Should_Throw
  RollbackToSavepoint_Null_Transaction_Should_Throw
  RollbackToSavepoint_Invalid_Id_Should_Throw
  RecordOperation_Null_Args_Should_Throw
  Constructor_Should_Initialize_With_Default_Values
  Properties_Should_Be_Settable
  GetSize_Should_Return_Header_Size
  GetDataSize_Should_Calculate_Correctly
  GetDataSize_With_Different_Page_Sizes
  GetDataSize_With_Zero_Page_Size_Should_Return_Zero
  GetDataSize_With_Smaller_Page_Size_Should_Return_Zero
  Header_Should_Support_All_Page_Types
  Header_Should_Handle_Large_Values
  Header_Should_Maintain_Value_Integrity
  Header_Should_Be_Consistent_After_Multiple_Operations
  DropCollection_Should_Remove_Collection_And_Data
  DropCollection_NonExistent_Should_Return_False
  GetCollectionNames_Should_Return_All_Names
  Constructor_Should_Initialize_With_Values
  Constructor_Should_Throw_ArgumentNullException_For_Null_Values
  CompareTo_Should_Return_Zero_For_Equal_Keys
  CompareTo_Should_Compare_String_Values_Correctly
  CompareTo_Should_Compare_Numeric_Values_Correctly
  CompareTo_Should_Compare_Different_Types_By_Type_Order
  CompareTo_Should_Handle_Null_Values
  CompareTo_Should_Compare_Multi_Field_Keys_Sequentially
  CompareTo_Should_Return_One_For_Null_Other
  Equals_Should_Return_True_For_Equal_Keys
  Equals_Should_Return_False_For_Different_Keys
  Equals_Should_Return_False_For_Different_Lengths
  Equals_Should_Return_False_For_Null_Other
  GetHashCode_Should_Be_Consistent_For_Equal_Keys
  GetHashCode_Should_Be_Different_For_Different_Keys
  Comparison_Operators_Should_Work_Correctly
  ToString_Should_Return_Correct_Format
  Clone_Should_Create_Separate_Instance
  Create_Single_Field_Should_Work
  Create_Multiple_Fields_Should_Work
  CompareTo_Should_Handle_Complex_Bson_Types
  CompareTo_Should_Handle_DateTime_Values
  ConvertPrimitiveValue_Should_Handle_Conversions
  GetPropertyValue_Should_Return_Value_Via_Reflection_Fallback
  Database_Should_Recover_From_Abnormal_Shutdown
  Database_Should_Handle_Partial_File_Corruption
  Database_Should_Recover_From_Empty_File
  Database_Should_Handle_Truncated_File
  Database_Should_Handle_Multiple_Recovery_Attempts
  Database_Should_Handle_Concurrent_Access_During_Recovery
  Fallback_Mapping_Should_Work
  Fallback_Circular_Reference_Should_Handle_Gracefully
  Default_Options_Should_Be_Valid
  Validate_Small_PageSize_Should_Throw
  SynchronousWrites_Property_Should_Sync_With_WriteConcern
  Properties_Should_Store_Values
  Stress_Test_Insert_Delete_Random
  CreateIndex_With_Invalid_Arguments_Should_Throw
  DropIndex_With_Invalid_Arguments_Should_Throw
  GetIndex_With_Invalid_Arguments_Should_Throw
  IndexExists_With_Invalid_Arguments_Should_Throw
  GetBestIndex_With_Empty_Fields_Should_Return_Null
  Constructor_Should_Throw_If_File_Locked
  PageHeader_RoundTrip_Should_Work
  PageHeader_IsValid_Should_Be_Correct
  PageHeader_Checksum_Methods_Should_Work
  Delete_Root_Item_Should_Work
  Delete_Multiple_Items_Triggering_Merge
  Delete_NonExistent_Item_Should_Return_False
  Clear_Index_Should_Reset_Stats
  Collection_Persistence_Should_Work_Multiple_Reopen_Cycles
  DropCollection_Should_Persist_Across_Sessions
  Empty_Collections_Should_Persist
  CalculateSize_Should_Match_Actual_Serialized_Size
  CalculateSize_Unsupported_Should_Throw
  CreateCollectionAsync_ShouldCreateCollectionSuccessfully
  CreateCollectionAsync_ShouldCreateMultipleCollections
  CreateCollectionAsync_ShouldAllowDocumentInsertionAfterCreation
  Page_Metadata_Update_Should_Work
  Page_ClearData_Should_Reset_State
  Page_Checksum_Verification_Should_Work
  CreateSecureDatabase_Should_Create_Protected_Db
  OpenSecureDatabase_Should_Work_With_Correct_Password
  OpenDatabase_Should_Detect_Password
  ChangePassword_Should_Work
  RemovePassword_Should_Work
  GenerateStrongPassword_Should_Generate_Valid_Password
  Constructor_Should_Initialize_With_Correct_Values
  Constructor_Should_Throw_ArgumentException_For_Zero_Page_Size
  Constructor_Should_Throw_ArgumentException_For_Negative_Cache_Size
  Constructor_Should_Throw_ArgumentNullException_For_Null_DiskStream
  GetPage_Should_Create_New_Page_When_Not_Exists
  GetPage_Should_Throw_For_Zero_Page_ID
  GetPage_Should_Return_Cached_Page_On_Second_Call
  SavePage_Should_Persist_Page_To_Disk
  FreePage_Should_Add_Page_To_Free_List
  FreePage_Should_Throw_For_Zero_Page_ID
  GetPageAsync_Should_Work_Correctly
  SavePageAsync_Should_Work_Correctly
  Multiple_Page_Operations_Should_Work
  Cache_Eviction_Should_Work
  Dispose_Should_Clean_Up_Resources
  Page_Data_Persistence_Should_Work
  Large_Number_Of_Pages_Should_Work
  Concurrent_Page_Operations_Should_Work
  Update_Large_Document_To_Small_Should_Work
  Update_Small_Document_To_Large_Should_Work
  Update_Large_To_Large_Should_Work
  BasicInsertAndFind_ShouldWork
  MultipleInsertWithoutSplit_ShouldWork
  InsertAndTriggerSplit_ShouldWork
  LRUCache_Stats_Should_Be_Correct
  LRUCache_GetOrAdd_Should_Work
  LRUCache_TryRemove_Should_Work
  LRUCache_Clear_Should_Work
  Query_Comparisons_Should_Work_For_All_Types
  Query_StringMethods_Should_Work
  Query_ListContains_Should_Work
  Query_Logic_ShortCircuit_Should_Work
  AllocatePage_Should_Resize_File_When_Needed
  Fallback_NonGeneric_Collections_Should_Work
  CalculateIndexMatchScore_Should_Score_Correctly
  CalculateIndexMatchScore_Composite_Should_Score_Correctly
  BsonDocument_Constructor_Should_Create_Empty_Document
  BsonDocument_Should_Add_And_Get_Values
  BsonDocument_Indexer_Should_Add_And_Get_Values
  BsonDocument_TryGetValue_Should_Handle_Missing_Keys
  BsonDocument_ContainsKey_Should_Work_Correctly
  BsonDocument_Remove_Should_Work_Correctly
  BsonDocument_Clear_Should_Remove_All_Elements
  BsonDocument_Set_Should_Update_Existing_Value
  BsonDocument_Equality_Should_Work_Correctly
  BsonDocument_ToString_Should_Return_Json_Like_Representation
  BsonDocument_Should_Handle_Nested_Documents
  BsonDocument_Should_Handle_Arrays
  BsonDocument_Should_Handle_Null_Values
  BsonDocument_Should_Handle_Mixed_Types
  Properties_Should_Reflect_FileStream
  SetLength_Should_Change_File_Size
  Seek_Should_Move_Position
  LockRegion_Should_Not_Throw
  ReadWrite_Should_Work
  GetStatistics_Should_Return_Values
  BsonSerializer_AllTypes_RoundTrip
  BsonSerializer_SizeCalculation_Matches_SerializedLength
  BsonReader_Should_Throw_On_Size_Mismatch
  BsonReader_ReadString_With_Missing_Null_Terminator_Should_Throw
  BsonReader_ReadValue_With_Unsupported_Type_Should_Throw
  BsonWriter_Unsupported_Types_Should_Throw
  Insert_Should_Store_DocumentIds
  Delete_Should_Remove_DocumentId
  FindRange_Should_Return_Expected_Documents
  Clear_Should_Reset_Index
  CompositeKeys_ShouldMaintainLexicographicalOrderInRange
  FindRange_ShouldTraverseMultipleLeafNodes
  GetPage_Should_Handle_Read_Error_By_Returning_Empty_Page
  Engine_Should_Throw_On_Write_Error
  Engine_Should_Recover_From_WAL_On_Startup
  PageManager_Should_Recover_Free_Pages_On_Restart
  BsonMapper_Basic_Functionality_Should_Work
  BsonMapper_RoundTrip_Should_Preserve_Id
  BsonMapper_Should_Handle_Empty_User
  BsonMapper_Should_Handle_Null_Document
  BsonMapper_Should_Throw_On_Null_Entity
  BsonSerializer_Basic_Serialization_Should_Work
  BsonSerializer_Should_Handle_Empty_Bytes
  BsonSerializer_Should_Throw_On_Null_Bytes
  BsonSerializer_Should_Handle_Null_Value
  Integration_Mapper_And_Serializer_Should_Work_Together
  Multiple_Users_Should_Be_Serialized_Correctly
  Large_Number_Of_Properties_Should_Work
  Serialization_Should_Be_Thread_Safe
  BsonMapper_Should_Preserve_DateTime_Values
  Cache_Eviction_Should_Work
  ClearCache_With_MaxPagesToKeep_Should_Work
  Constructor_Should_Initialize_With_Correct_Values
  Constructor_Should_Create_Default_Header
  Constructor_Should_Throw_ArgumentException_For_Zero_Page_Size
  Constructor_Should_Throw_ArgumentException_For_Page_Size_Smaller_Than_Header
  WriteData_Should_Write_Data_To_Page
  WriteData_With_Offset_Should_Write_Correctly
  ReadData_Beyond_Data_Should_Return_Empty
  ReadData_Should_Read_Correct_Number_Of_Bytes
  ClearData_Should_Reset_Page_Data
  ClearData_Should_Reset_Header_To_Defaults
  MarkClean_Should_Set_IsDirty_To_False
  UpdatePageType_Should_Change_Page_Type
  UpdateHeader_Should_Update_All_Header_Values
  SetLinks_Should_Update_Link_Values
  UpdateStats_Should_Update_Statistics_Values
  GetDataSpan_Should_Return_Correct_Span
  Large_Data_Operations_Should_Work
  Multiple_Write_Operations_Should_Work
  Dispose_Should_Clean_Up_Resources
  Clone_Should_Create_Separate_Instance
  Upsert_Should_Insert_If_New
  Upsert_Should_Update_If_Exists
  DeleteMany_Should_Delete_Matching_Documents
  Exists_Should_Return_True_If_Match_Found
  Update_Batch_Should_Update_All
  InsertDocument_Without_Id_Should_Generate_Id
  FindById_With_NonExistent_Id_Should_Return_Null
  UpdateDocument_With_NonExistent_Id_Should_Return_Zero
  DeleteDocument_With_NonExistent_Id_Should_Return_Zero
  InsertDocuments_Should_Insert_Multiple
  Query_With_String_Functions_Should_Work
  Query_With_Or_Condition_Should_Work
  Query_With_Index_Should_Use_Index
  Query_With_Nested_Logic_Should_Work
  Query_With_Unsupported_Expression_Should_Throw
  BsonValue_Should_Create_Null_Value
  BsonValue_Should_Create_Int32_Value
  BsonValue_Should_Create_Int64_Value
  BsonValue_Should_Create_Double_Value
  BsonValue_Should_Create_String_Value
  BsonValue_Should_Create_Bool_Value
  BsonValue_Should_Create_ObjectId_Value
  BsonValue_Equality_Should_Work_Correctly
  BsonValue_GetHashCode_Should_Be_Consistent
  BsonValue_Implicit_Conversion_Should_Work
  BsonValue_ToString_Should_Return_Representation
  BsonValue_Type_Checks_Should_Work
  BsonValue_Comparison_Should_Work
  Mapper_Should_Handle_Various_Collections
  Mapper_Should_Handle_Nested_Collections
  OrderLifecycle_ShouldPersistAcrossSessions_WithIndexes
  Database_Should_Create_Successfully
  DefaultOptions_Should_Use_Synced_WriteConcern
  None_WriteConcern_Should_Flush_In_Background
  Database_Should_Handle_Multiple_Collections
  Insert_Should_Create_User_With_ValidId
  GetCollection_Should_Return_Same_Instance_For_Same_Name
  DropCollection_Should_Remove_Metadata_From_Current_Session
  DropCollection_Should_Return_False_For_Nonexistent_Collection
  Insert_Many_Documents_Should_ReUse_Data_Pages
  Arithmetic_Operations_Should_Throw_NotSupported
  Logical_NotEqual_Should_Work
  ReadDocument_SizeMismatch_Should_Throw
  ReadArray_SizeMismatch_Should_Throw
  ReadValue_UnexpectedEnd_Should_Throw
  ToInt32_Should_Work
  ToInt64_Should_Work
  ToBoolean_Should_Work
  ToDouble_Should_Work
  ToString_Should_Work
  ToDateTime_Should_Work
  ToDecimal_Should_Work
  ToSingle_Should_Work
  ToInt16_Should_Work
  ToByte_Should_Work
  ToSByte_Should_Work
  ToChar_Should_Work
  ToUInt64_Should_Work
  Mapping_With_Guid_And_DateTime_Should_Work
  Delete_Last_Document_On_Page_Should_Free_Page
  PageManager_Cache_Eviction_Should_Work
  FreePage_Should_Make_Page_Available_For_Reuse
  GetPage_With_Invalid_PageId_Should_Throw
  RestorePage_Should_Update_Disk_And_Cache
  Constructor_Should_Initialize_Correctly
  Constructor_Should_Throw_For_Null_Engine
  Execute_With_Null_CollectionName_Should_Throw
  Execute_With_Empty_CollectionName_Should_Throw
  Execute_With_Empty_Collection_Should_Return_Empty
  Execute_Without_Filter_Should_Return_All_Documents
  Execute_With_Simple_Filter_Should_Filter_Correctly
  Execute_With_Age_Filter_Should_Filter_Correctly
  Execute_With_String_Filter_Should_Filter_Correctly
  Execute_With_Complex_Filter_Should_Filter_Correctly
  Execute_With_Null_Documents_Should_Handle_Gracefully
  Execute_With_Large_Dataset_Should_Perform_Well
  Transaction_ShouldMaintainAtomicity_OnCommit
  Transaction_ShouldMaintainAtomicity_OnRollback
  Transaction_ShouldMaintainConsistency
  Transaction_ShouldMaintainIsolation
  Transaction_ShouldMaintainDurability
  NestedTransaction_ShouldRollbackCorrectly
  Transaction_ShouldRollbackOnException
  LongRunningTransaction_ShouldMaintainStability
  Transaction_ShouldHandleMixedOperations
  FindAll_Should_Handle_Page_Read_Error_By_Skipping

测试发现摘要: 找到 612 个测试 - /home/j4587698/RiderProjects/TinyDb/TinyDb.Tests/bin/Debug/net8.0/TinyDb.Tests.dll (net8.0|x64)
  持续时间: 2s 217ms
