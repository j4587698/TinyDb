    [Test]
    public async Task BsonArrayValue_Internal_Coverage()
    {
        if (!System.Runtime.CompilerServices.RuntimeFeature.IsDynamicCodeCompiled) return;

        var type = typeof(BsonArray).Assembly.GetType("TinyDb.Bson.BsonArrayValue");
        var array = new BsonArray().AddValue(1);
        var wrapper = (BsonValue)Activator.CreateInstance(type!, array)!;
        
        await Assert.That(wrapper.BsonType).IsEqualTo(BsonType.Array);
        await Assert.That(wrapper.IsArray).IsTrue();
        await Assert.That(wrapper.RawValue).IsEqualTo(array);
        
        await Assert.That(wrapper.Equals(wrapper)).IsTrue();
        await Assert.That(wrapper.Equals(array)).IsFalse(); // Different wrapper/type
        
        await Assert.That(wrapper.CompareTo(wrapper)).IsEqualTo(0);
        await Assert.That(wrapper.CompareTo(array)).IsEqualTo(0); // BsonArrayValue.CompareTo handles BsonArray
        await Assert.That(wrapper.CompareTo(new BsonInt32(1))).IsNotEqualTo(0);
        
        await Assert.That(wrapper.ToString()).IsEqualTo(array.ToString());
        await Assert.That(wrapper.ToInt32(Provider)).IsEqualTo(1);
    }
